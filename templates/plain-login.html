{{/* Simple login form for mods and admins */}}

{{define "header"}}{{end}}

{{define "body"}}
{{if .Authed}}
    <!-- show logout button -->
    <div id="login">
        <a href="/user/logout">Logout</a>
    <div>
{{else}}
<form method="POST" action="/user/login">
    {{if gt (len .ErrorMessage) 0}}
    <div class="errorMessage">
        {{.ErrorMessage}}
    </div>
    {{end}}
    <div id="login">
        <div><input type="text" name="Username" /></div>
        <div><input type="password" name="Password" /></div>
        <div><input type="submit" value="Login" /> <a href="/user/new">Create Account</a></div>
    </div>

	{{if .OAuth}}
	<div id="oauth">
		{{if .TwitchOAuth}}
		<form action={{.TwitchOAuthURL}} method="get">
			<button type="submit"> Login with Twitch </button>
		</form>
		{{end}}
		{{if .DiscordOAuth}}
		<form action={{.DiscordOAuthURL}} method="get">
			<button type="submit"> Login with Discord </button>
		</form>
		{{end}}
		{{if .PatreonOAuth}}
		<form action={{.PatreonOAuthURL}} method="get">
			<button type="submit"> Login with Patreon </button>
		</form>
		{{end}}
	</div>
	{{end}}
</form>
{{end}}
{{end}}
