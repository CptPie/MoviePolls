{{define "header"}}{{end}}

{{define "body"}}
<form method="POST" action="/add" enctype="multipart/form-data">
    {{if .HasError}}<div class="errorMessage">The input contained errors, see the highlighted fields for more information.</div>{{end}}
    <div id="addMovieForm">
		{{if .FormfillEnabled}}
            <div class="movieInput">
                <div {{if (index .Fields "Title")}}{{if (index .Fields "Title").Error}} class="errorMessage"{{end}}{{end}}><label for="Title">Movie Title</label></div>
                <div><textarea name="Title" id="Title" style="width:400px">{{if (index .Fields "Title")}}{{if (index .Fields "Title").Value}}{{ (index .Fields "Title").Value}}{{end}}{{end}}</textarea></div>
            </div>
            <div class="movieInput">
                <div {{if (index .Fields "Description")}}{{if (index .Fields "Description").Error}} class="errorMessage"{{end}}{{end}}><label for="Description">Description</label></div>
                <div><textarea name="Description" id="Description" style="width:400px">{{if (index .Fields "Description")}}{{if (index .Fields "Description").Value}}{{( index .Fields "Description").Value}}{{end}}{{end}}</textarea></div>
            <div class="movieInput">
                <div {{if (index .Fields "Links")}}{{if (index .Fields "Links").Error}} class="errorMessage"{{end}}{{end}}><label for="Links">Links</label></div>
                <div><textarea name="Links" id="Links" style="width:400px">{{if (index .Fields "Links")}}{{if (index .Fields "Links").Value}}{{ (index .Fields "Links").Value}}{{end}}{{end}}</textarea></div>
            </div>
            <div class="movieInput">
                <div {{if .FileError}} class="errorMessage"{{end}}><label for="PosterFile">Poster Image</label></div>
                <div><input type="file" name="PosterFile" id="PosterFile" accept="image/*"style="width:400px"/></div>
            </div>
            {{ if .AutofillEnabled }}
                <div class="movieInput">
                    <div {{if (index .Fields "AutofillBox")}}{{if (index .Fields "AutofillBox").Error}} class="errorMessage"{{end}}{{end}}><label for="AutofillBox">Autofill Data with the provided Link</label></div>
                    <div><input type="checkbox" name="AutofillBox" id="AutofillBox"/></div>
                </div>
            {{end}}
		{{end}}

		{{if not .FormfillEnabled}}
        <input type="hidden" name="AutofillBox" value="on" />
        <div class="movieInput">
            <div {{if (index .Fields "Links")}}{{if (index .Fields "Links").Error}} class="errorMessage"{{end}}{{end}}><label for="Links">Enter IMDB or MyAnimeList link for a movie to add:</label></div>
            <div><textarea name="Links" id="Links" style="width:400px">{{if (index .Fields "Links")}}{{if (index .Fields "Links").Value}}{{(index .Fields "Links").Value}}{{end}}{{end}}</textarea></div>
        </div>
		{{end}}

		<div class="movieInput">
            <div{{ if (index .Fields "Remarks")}}{{if (index .Fields "Remarks").Error}} class="errorMessage"{{end}}{{end}}><label for="Remarks">Enter your remarks here (max {{.MaxRemarksLength}} characters):</label></div>
            <div><textarea name="Remarks" id="Remarks" style="width:400px" maxlength="{{.MaxRemarksLength}}">{{ if (index .Fields "Remarks")}}{{if (index .Fields "Remarks").Value}}{{(index .Fields "Remarks").Value}}{{end}}{{end}}</textarea></div>
        </div>
        <div class="movieInput">
            <div><input type="submit" value="Add Movie" /></div>
        </div>
    </div>
</form>
{{end}}
